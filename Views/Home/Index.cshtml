@using Microsoft.AspNetCore.Identity
@using Beacon.Models
@inject UserManager<User> UserManager
@inject SignInManager<User> SignInManager

@{
    ViewData["Title"] = "Home Page";
    var currentUser = await UserManager.GetUserAsync(User);
}

<div class="-mx-[calc(50vw-50%)] w-screen dark:bg-slate-600">
    <div class="flex min-h-[80vh] flex-col items-center justify-center text-center text-gray-800 dark:text-gray-200">
        <h1 class="mb-6 text-4xl font-bold text-indigo-600 sm:text-5xl">
        Welcome
    </h1>

    @if (SignInManager.IsSignedIn(User))
    {
            <h2 class="mb-4 text-2xl font-semibold text-indigo-600 sm:text-3xl">
            👋 Hello, <span class="text-indigo-600 dark:text-indigo-400">@currentUser?.Email</span>
        </h2>

            <ul class="space-y-2 text-lg text-indigo-600 sm:text-xl">
                <li><span class="font-medium text-indigo-600">First Name:</span> @currentUser?.FirstName</li>
                <li><span class="font-medium text-indigo-600">Last Name:</span> @currentUser?.LastName</li>
                <li><span class="font-medium text-indigo-600">Role:</span> @currentUser?.Role</li>
                <li><span class="font-medium text-indigo-600">Joined:</span> @currentUser?.CreatedAt.ToLocalTime()</li>
        </ul>
    }
    else
    {
        <p class="mt-4 text-xl sm:text-2xl">You are not logged in.</p>
    }
</div>
</div>