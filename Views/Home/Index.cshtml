@using Microsoft.AspNetCore.Identity
@using Beacon.Models
@inject UserManager<User> UserManager
@inject SignInManager<User> SignInManager

@{
    ViewData["Title"] = "Home";
}

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - City Problems</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* subtle card hover */
        .card:hover {
            transform: translateY(-2px);
        }

        .btn-gradient {
            background-image: linear-gradient(90deg,#2563eb,#7c3aed);
        }

        .impact-pill {
            box-shadow: 0 6px 16px rgba(0,0,0,.15);
        }

        .shadow-soft {
            box-shadow: 0 10px 30px rgba(0,0,0,.08);
        }

        .modal-open {
            overflow: hidden;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">

    <!-- HERO -->
    <div class="relative bg-cover bg-center min-h-screen" style="background-image:url('https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=1800&q=80');">
        <div class="absolute inset-0 bg-white/70"></div>

        <div class="relative z-10 flex flex-col items-center text-center px-6 py-16">
            <!-- badge -->
            <div class="bg-white/90 rounded-full px-4 py-2 text-sm flex items-center gap-2 mb-6 shadow-soft">
                <span class="text-blue-600">👥</span>
                <span class="text-gray-700 font-medium">Join 50,000+ Citizens Making a Difference</span>
            </div>

            <!-- heading -->
            <h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight">
                Report City Problems, <span class="text-transparent bg-clip-text" style="background-image:linear-gradient(90deg,#3342FF,#7C3AED)">See Real Solutions</span>
            </h1>

            <!-- sub -->
            <p class="text-gray-600 max-w-3xl mt-5">
                Beacon connects citizens with city officials to solve infrastructure problems, safety concerns,
                and community issues efficiently and transparently.
            </p>

            <!-- actions -->
            <div class="flex gap-4 mt-10">
                <a href="#" class="px-6 py-3 rounded-xl text-white font-semibold btn-gradient shadow-soft hover:opacity-95">
                    + Post a Complaint
                </a>
                <a href="#success-stories" class="px-6 py-3 rounded-xl border border-purple-300 font-semibold text-purple-700 bg-white shadow-soft hover:bg-purple-50">
                    View Solved Issues
                </a>
            </div>

            <!-- stats -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 w-full max-w-5xl mt-14">
                <div class="bg-white rounded-2xl p-6 shadow-soft flex flex-col items-center">
                    <div class="text-blue-600 text-3xl mb-2">📍</div>
                    <div class="text-3xl font-bold">15,847</div>
                    <div class="text-gray-600">Issues Reported</div>
                </div>

                <div class="bg-white rounded-2xl p-6 shadow-soft flex flex-col items-center">
                    <div class="text-green-500 text-3xl mb-2">⏱️</div>
                    <div class="text-3xl font-bold text-green-600">12,634</div>
                    <div class="text-gray-600">Problems Solved</div>
                </div>

                <div class="bg-white rounded-2xl p-6 shadow-soft flex flex-col items-center">
                    <div class="text-purple-600 text-3xl mb-2">👤</div>
                    <div class="text-3xl font-bold">3.2 Days</div>
                    <div class="text-gray-600">Average Response Time</div>
                </div>
            </div>
        </div>
    </div>

    <!-- SUCCESS STORIES -->
    <section id="success-stories" class="py-16 bg-gradient-to-b from-white to-purple-50">
        <div class="text-center px-6">
            <h2 class="text-4xl font-extrabold">Success Stories</h2>
            <p class="text-gray-600 mt-3 max-w-3xl mx-auto">
                See how your fellow citizens are making a real difference in our community.
                Every report counts, every solution matters.
            </p>
        </div>

        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 px-6 mt-10">

            <!-- CARD 1 -->
            <article class="card bg-white rounded-2xl overflow-hidden shadow-soft transition">
                <!-- before/after images -->
                <div class="grid grid-cols-2 h-48">
                    <img src="https://images.unsplash.com/photo-1603436325181-ec6e6a8d3f41?auto=format&fit=crop&w=900&q=80"
                         class="object-cover w-full h-full" alt="Pothole before">
                    <img src="https://images.unsplash.com/photo-1533659572422-02293328c6e1?auto=format&fit=crop&w=900&q=80"
                         class="object-cover w-full h-full" alt="Pothole after">
                </div>

                <div class="p-6">
                    <!-- resolved + tag -->
                    <div class="flex items-center gap-3 mb-2">
                        <span class="bg-emerald-100 text-emerald-700 text-sm px-3 py-1 rounded-full">✔ Resolved</span>
                        <span class="bg-purple-100 text-purple-700 text-sm px-3 py-1 rounded-full">Road Maintenance</span>
                    </div>

                    <h3 class="text-lg font-bold">Dangerous Pothole on Main Street Fixed</h3>
                    <p class="text-gray-600 mt-2">
                        Large pothole causing vehicle damage on Main Street intersection repaired within 24 hours.
                    </p>

                    <!-- details -->
                    <div class="mt-4 space-y-1 text-sm text-gray-700">
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path d="M12 22s8-4.5 8-12a8 8 0 10-16 0c0 7.5 8 12 8 12z" />
                                <circle cx="12" cy="10" r="3" />
                            </svg>
                            Main Street & 5th Avenue
                        </div>
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path d="M12 8v4l3 3" />
                                <circle cx="12" cy="12" r="10" />
                            </svg>
                            Resolved in 1 day
                        </div>
                    </div>

                    <!-- view details button -->
                    <button data-open-modal="modal-1"
                            class="mt-4 w-full flex items-center justify-center gap-2 border rounded-lg py-2 text-gray-800 hover:bg-gray-50">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" stroke="currentColor">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z" />
                            <circle cx="12" cy="12" r="3" />
                        </svg>
                        View Details
                    </button>
                </div>
            </article>

            <!-- CARD 2 (streetlight) -->
            <article class="card bg-white rounded-2xl overflow-hidden shadow-soft transition">
                <div class="grid grid-cols-2 h-48">
                    <img src="https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=900&q=80"
                         class="object-cover w-full h-full" alt="Streetlight before">
                    <img src="https://images.unsplash.com/photo-1472772912948-36c6ef7ab7b8?auto=format&fit=crop&w=900&q=80"
                         class="object-cover w-full h-full" alt="Streetlight after">
                </div>

                <div class="p-6">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="bg-emerald-100 text-emerald-700 text-sm px-3 py-1 rounded-full">✔ Resolved</span>
                        <span class="bg-purple-100 text-purple-700 text-sm px-3 py-1 rounded-full">Public Safety</span>
                    </div>

                    <h3 class="text-lg font-bold">Broken Streetlight Restored in Park District</h3>
                    <p class="text-gray-600 mt-2">
                        Non-functioning streetlight creating safety hazard quickly replaced.
                    </p>

                    <div class="mt-4 space-y-1 text-sm text-gray-700">
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-500" fill="none" stroke="currentColor">
                                <path d="M12 22s8-4.5 8-12a8 8 0 10-16 0c0 7.5 8 12 8 12z" />
                                <circle cx="12" cy="10" r="3" />
                            </svg>
                            Maple Park District
                        </div>
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-500" fill="none" stroke="currentColor">
                                <path d="M12 8v4l3 3" />
                                <circle cx="12" cy="12" r="10" />
                            </svg>
                            Resolved in 3 days
                        </div>
                    </div>

                    <button data-open-modal="modal-2"
                            class="mt-4 w-full flex items-center justify-center gap-2 border rounded-lg py-2 text-gray-800 hover:bg-gray-50">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" stroke="currentColor">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z" />
                            <circle cx="12" cy="12" r="3" />
                        </svg>
                        View Details
                    </button>
                </div>
            </article>

            <!-- CARD 3 (waste bins) -->
            <article class="card bg-white rounded-2xl overflow-hidden shadow-soft transition">
                <div class="grid grid-cols-2 h-48">
                    <img src="https://images.unsplash.com/photo-1549480017-d76466a4b7b7?auto=format&fit=crop&w=900&q=80"
                         class="object-cover w-full h-full" alt="Garbage bins before">
                    <img src="https://images.unsplash.com/photo-1501594907352-04cda38ebc29?auto=format&fit=crop&w=900&q=80"
                         class="object-cover w-full h-full" alt="Garbage bins after">
                </div>

                <div class="p-6">
                    <div class="flex items-center gap-3 mb-2">
                        <span class="bg-emerald-100 text-emerald-700 text-sm px-3 py-1 rounded-full">✔ Resolved</span>
                        <span class="bg-purple-100 text-purple-700 text-sm px-3 py-1 rounded-full">Sanitation</span>
                    </div>

                    <h3 class="text-lg font-bold">Overflowing Waste Bins in Downtown Area</h3>
                    <p class="text-gray-600 mt-2">
                        Multiple overflowing garbage bins in commercial district addressed with increased collection frequency.
                    </p>

                    <div class="mt-4 space-y-1 text-sm text-gray-700">
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-500" fill="none" stroke="currentColor">
                                <path d="M12 22s8-4.5 8-12a8 8 0 10-16 0c0 7.5 8 12 8 12z" />
                                <circle cx="12" cy="10" r="3" />
                            </svg>
                            Downtown Commercial District
                        </div>
                        <div class="flex items-center gap-2">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-gray-500" fill="none" stroke="currentColor">
                                <path d="M12 8v4l3 3" />
                                <circle cx="12" cy="12" r="10" />
                            </svg>
                            Resolved in 4 days
                        </div>
                    </div>

                    <button data-open-modal="modal-3"
                            class="mt-4 w-full flex items-center justify-center gap-2 border rounded-lg py-2 text-gray-800 hover:bg-gray-50">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" stroke="currentColor">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8S1 12 1 12z" />
                            <circle cx="12" cy="12" r="3" />
                        </svg>
                        View Details
                    </button>
                </div>
            </article>
        </div>
    </section>


    <!-- MODALS -->
    <!-- Modal Template duplicated for 3 cards; you can refactor if you want -->
    <div id="modal-1" class="fixed inset-0 hidden items-center justify-center z-50">
        <div class="absolute inset-0 bg-black/50" data-close-modal="modal-1"></div>
        <div class="relative bg-white rounded-2xl w-11/12 max-w-2xl p-6 shadow-soft">
            <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-700" data-close-modal="modal-1">&times;</button>
            <h3 class="text-2xl font-bold">Dangerous Pothole Fixed on Main Street</h3>
            <p class="text-gray-600 mt-2">
                The pothole was reported via the Beacon app. Maintenance crew inspected the site and completed
                a hot mix asphalt patch within 48 hours. Area was coned off during repair to ensure safety.
            </p>
            <div class="grid grid-cols-2 gap-3 mt-4">
                <img class="rounded-lg object-cover h-40 w-full" src="https://images.unsplash.com/photo-1603436325181-ec6e6a8d3f41?auto=format&fit=crop&w=800&q=80" alt="">
                <img class="rounded-lg object-cover h-40 w-full" src="https://images.unsplash.com/photo-1533659572422-02293328c6e1?auto=format&fit=crop&w=800&q=80" alt="">
            </div>
            <div class="mt-5 flex justify-end">
                <button class="px-5 py-2 rounded-lg bg-gray-100 hover:bg-gray-200" data-close-modal="modal-1">Close</button>
            </div>
        </div>
    </div>

    <div id="modal-2" class="fixed inset-0 hidden items-center justify-center z-50">
        <div class="absolute inset-0 bg-black/50" data-close-modal="modal-2"></div>
        <div class="relative bg-white rounded-2xl w-11/12 max-w-2xl p-6 shadow-soft">
            <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-700" data-close-modal="modal-2">&times;</button>
            <h3 class="text-2xl font-bold">Broken Streetlight Restored</h3>
            <p class="text-gray-600 mt-2">
                Faulty ballast replaced and lamp head rewired. Work completed by utilities team at 6:30 PM with
                confirmation photo uploaded to the case.
            </p>
            <div class="grid grid-cols-2 gap-3 mt-4">
                <img class="rounded-lg object-cover h-40 w-full" src="https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=800&q=80" alt="">
                <img class="rounded-lg object-cover h-40 w-full" src="https://images.unsplash.com/photo-1472772912948-36c6ef7ab7b8?auto=format&fit=crop&w=800&q=80" alt="">
            </div>
            <div class="mt-5 flex justify-end">
                <button class="px-5 py-2 rounded-lg bg-gray-100 hover:bg-gray-200" data-close-modal="modal-2">Close</button>
            </div>
        </div>
    </div>

    <div id="modal-3" class="fixed inset-0 hidden items-center justify-center z-50">
        <div class="absolute inset-0 bg-black/50" data-close-modal="modal-3"></div>
        <div class="relative bg-white rounded-2xl w-11/12 max-w-2xl p-6 shadow-soft">
            <button class="absolute top-3 right-3 text-gray-500 hover:text-gray-700" data-close-modal="modal-3">&times;</button>
            <h3 class="text-2xl font-bold">Storm Drain Cleared After Flooding</h3>
            <p class="text-gray-600 mt-2">
                Debris and leaves removed, sump cleared and grates re-seated. Follow-up maintenance scheduled
                for the next heavy rainfall.
            </p>
            <div class="grid grid-cols-2 gap-3 mt-4">
                <img class="rounded-lg object-cover h-40 w-full" src="https://images.unsplash.com/photo-1549480017-d76466a4b7b7?auto=format&fit=crop&w=800&q=80" alt="">
                <img class="rounded-lg object-cover h-40 w-full" src="https://images.unsplash.com/photo-1501594907352-04cda38ebc29?auto=format&fit=crop&w=800&q=80" alt="">
            </div>
            <div class="mt-5 flex justify-end">
                <button class="px-5 py-2 rounded-lg bg-gray-100 hover:bg-gray-200" data-close-modal="modal-3">Close</button>
            </div>
        </div>
    </div>

    <!-- JS: modal wiring -->
    <script>
        // open
        document.querySelectorAll('[data-open-modal]').forEach(btn => {
            btn.addEventListener('click', () => {
                const id = btn.getAttribute('data-open-modal');
                const m = document.getElementById(id);
                if (!m) return;
                m.classList.remove('hidden');
                m.classList.add('flex');
                document.documentElement.classList.add('modal-open');
            });
        });
        // close (overlay, X, Close)
        document.querySelectorAll('[data-close-modal]').forEach(el => {
            el.addEventListener('click', () => {
                const id = el.getAttribute('data-close-modal');
                const m = document.getElementById(id);
                if (!m) return;
                m.classList.add('hidden');
                m.classList.remove('flex');
                document.documentElement.classList.remove('modal-open');
            });
        });
        // ESC key closes any open modal
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('[id^="modal-"]').forEach(m => {
                    m.classList.add('hidden');
                    m.classList.remove('flex');
                });
                document.documentElement.classList.remove('modal-open');
            }
        });
    </script>
</body>
</html>
<!-- WHY CHOOSE BEACON -->
<section class="py-20 bg-white">
    <div class="text-center px-6">
        <h2 class="text-4xl font-extrabold">Why Choose Beacon?</h2>
        <p class="text-gray-600 mt-3 max-w-3xl mx-auto">
            A comprehensive platform designed to bridge the gap between citizens and
            local government for effective problem resolution.
        </p>
    </div>

    <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-8 px-6 mt-14">

        <!-- Card 1 -->
        <div class="bg-white rounded-xl shadow-soft p-6 border-l-4 border-blue-500">
            <div class="flex items-center justify-between">
                <div class="text-blue-500 text-3xl">💬</div>
                <span class="bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full">User-Friendly</span>
            </div>
            <h3 class="mt-4 text-xl font-bold">Easy Reporting</h3>
            <p class="text-gray-600 mt-2">Submit complaints with photos, location, and detailed descriptions in just a few clicks.</p>
        </div>

        <!-- Card 2 -->
        <div class="bg-white rounded-xl shadow-soft p-6 border-l-4 border-blue-500">
            <div class="flex items-center justify-between">
                <div class="text-blue-500 text-3xl">🔔</div>
                <span class="bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full">Live Tracking</span>
            </div>
            <h3 class="mt-4 text-xl font-bold">Real-Time Updates</h3>
            <p class="text-gray-600 mt-2">Get notifications when your reports are reviewed, in progress, or resolved by city officials.</p>
        </div>

        <!-- Card 3 -->
        <div class="bg-white rounded-xl shadow-soft p-6 border-l-4 border-blue-500">
            <div class="flex items-center justify-between">
                <div class="text-blue-500 text-3xl">📊</div>
                <span class="bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full">Data-Driven</span>
            </div>
            <h3 class="mt-4 text-xl font-bold">Progress Analytics</h3>
            <p class="text-gray-600 mt-2">View detailed statistics and progress reports on city-wide improvements and initiatives.</p>
        </div>

        <!-- Card 4 -->
        <div class="bg-white rounded-xl shadow-soft p-6 border-l-4 border-blue-500">
            <div class="flex items-center justify-between">
                <div class="text-blue-500 text-3xl">🛡️</div>
                <span class="bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full">Privacy First</span>
            </div>
            <h3 class="mt-4 text-xl font-bold">Secure & Anonymous</h3>
            <p class="text-gray-600 mt-2">Report issues securely with optional anonymity while maintaining full data protection.</p>
        </div>

        <!-- Card 5 -->
        <div class="bg-white rounded-xl shadow-soft p-6 border-l-4 border-blue-500">
            <div class="flex items-center justify-between">
                <div class="text-blue-500 text-3xl">⏱️</div>
                <span class="bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full">Quick Action</span>
            </div>
            <h3 class="mt-4 text-xl font-bold">Fast Response Time</h3>
            <p class="text-gray-600 mt-2">Average response time of 48 hours with priority handling for safety-critical issues.</p>
        </div>

        <!-- Card 6 -->
        <div class="bg-white rounded-xl shadow-soft p-6 border-l-4 border-blue-500">
            <div class="flex items-center justify-between">
                <div class="text-blue-500 text-3xl">👥</div>
                <span class="bg-green-100 text-green-700 text-xs px-3 py-1 rounded-full">Community-Driven</span>
            </div>
            <h3 class="mt-4 text-xl font-bold">Community Engagement</h3>
            <p class="text-gray-600 mt-2">Join discussions, vote on priorities, and collaborate with neighbors for better solutions.</p>
        </div>

    </div>
</section>





